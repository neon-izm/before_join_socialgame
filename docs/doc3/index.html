<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.59">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-171789087-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-171789087-1",{})</script><title data-react-helmet="true">2章:ソーシャルゲーム向けのUnityクライアント作成 | ソーシャルゲームのクライアントエンジニア入門以前</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="2章:ソーシャルゲーム向けのUnityクライアント作成 | ソーシャルゲームのクライアントエンジニア入門以前"><meta data-react-helmet="true" name="description" content="Unityクライアントを作る時も、普通のゲーム同様気を付けることと、ソーシャルゲーム特有の気を付けることがあります。"><meta data-react-helmet="true" property="og:description" content="Unityクライアントを作る時も、普通のゲーム同様気を付けることと、ソーシャルゲーム特有の気を付けることがあります。"><meta data-react-helmet="true" property="og:url" content="https://neon-izm.github.io/before_join_socialgame/docs/doc3"><link data-react-helmet="true" rel="shortcut icon" href="/before_join_socialgame/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://neon-izm.github.io/before_join_socialgame/docs/doc3"><link rel="stylesheet" href="/before_join_socialgame/styles.acfd6473.css">
<link rel="preload" href="/before_join_socialgame/styles.3b1d0e35.js" as="script">
<link rel="preload" href="/before_join_socialgame/runtime~main.8222458e.js" as="script">
<link rel="preload" href="/before_join_socialgame/main.3c08cf2d.js" as="script">
<link rel="preload" href="/before_join_socialgame/common.78351bf7.js" as="script">
<link rel="preload" href="/before_join_socialgame/2.8cfae064.js" as="script">
<link rel="preload" href="/before_join_socialgame/29.f9bff398.js" as="script">
<link rel="preload" href="/before_join_socialgame/30.15842f59.js" as="script">
<link rel="preload" href="/before_join_socialgame/2e792446.059e88ab.js" as="script">
<link rel="preload" href="/before_join_socialgame/17896441.24cf5e72.js" as="script">
<link rel="preload" href="/before_join_socialgame/616665f6.3b2ab50a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/before_join_socialgame/"><img class="navbar__logo" src="/before_join_socialgame/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">Site Top</strong></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx moon_6SPT"></span></div><div class="react-toggle-track-x"><span class="toggle_BsTx sun_152_"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/before_join_socialgame/"><img class="navbar__logo" src="/before_join_socialgame/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">Site Top</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">ソーシャルゲームのクライアントエンジニア入門以前</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/before_join_socialgame/docs/">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/before_join_socialgame/docs/doc2">1章:サーバサイドと仲良くなろう</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/before_join_socialgame/docs/doc3">2章:ソーシャルゲーム向けのUnityクライアント作成</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/before_join_socialgame/docs/doc4">3章:運用を見据えて作っておこう</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">2章:ソーシャルゲーム向けのUnityクライアント作成</h1></header><div class="markdown"><p>Unityクライアントを作る時も、普通のゲーム同様気を付けることと、ソーシャルゲーム特有の気を付けることがあります。</p><p>特に後者を気にして書いていますが、既に知っている場合は読み飛ばして大丈夫です。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="チュートリアルを作ろう"></a>チュートリアルを作ろう<a aria-hidden="true" tabindex="-1" class="hash-link" href="#チュートリアルを作ろう" title="Direct link to heading">#</a></h2><p><strong>一言で言うとどんなもの？</strong></p><p>ユーザが操作説明を覚えるための専用シーン。かっこいいオープニングムービーを流したりもします。</p><p>と言うのが本来の流れですが、 <strong>最近はAppStore審査で、ゲーム開始後すぐにアセットバンドルなどのデータダウンロードさせるゲームはリジェクトされます。</strong></p><p>なので、チュートリアルだけシーンを分けて、アセットバンドルダウンロード無しでチュートリアルまでは遊べるように考慮しておく事が必須です。</p><p><strong>これの理解や実装が不完全だと何が起きるの？</strong></p><ul><li>開発終盤に地獄を見ます</li><li>ユーザの初期離脱率がすごいことになります</li></ul><p><strong>詳しく知りたい人は、この辺の単語でググってほしい</strong></p><ul><li>情報求む</li><li>毎回死にそうになってます</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="アウトゲームを作ろう"></a>アウトゲームを作ろう<a aria-hidden="true" tabindex="-1" class="hash-link" href="#アウトゲームを作ろう" title="Direct link to heading">#</a></h2><p><strong>一言で言うとどんなもの？</strong></p><p>インゲーム以外の部分を指します。ショップ、マイページ、プロフィール、クエスト、ガチャ、合成、etc…</p><p>つまり、ソーシャルゲームはメチャクチャにアウトゲーム領域が広いです。
その部分は <strong>ゲームの世界観に合わせつつ、山ほどある画面UIを量産</strong> する必要があります。</p><p><strong>これの理解や実装が不完全だと何が起きるの？</strong></p><ul><li>画面量産でプレハブコンフリクトして死ぬ</li><li>タップ連打でバグる</li><li>連続画面遷移でバグる</li></ul><p><strong>詳しく知りたい人は、この辺の単語でググってほしい</strong></p><ul><li>情報求む</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="楽しい多解像度、多アスペクト、ノッチ対応"></a>楽しい多解像度、多アスペクト、ノッチ対応<a aria-hidden="true" tabindex="-1" class="hash-link" href="#楽しい多解像度、多アスペクト、ノッチ対応" title="Direct link to heading">#</a></h3><p>一昔前は、世界がほとんど16:9のアスペクト比に統一されたかに見えました、幸せな時代でした…iPadも背景を一色置いて中身が16:9のままでも審査が通ったりしました。</p><p>最近は各社工夫を凝らしたノッチや、<strong>面白いアスペクト比の縦長端末</strong> があります。iPad対応も割とちゃんと必要です。メチャクチャつらい…
最新のUnityであればDeviceSimulatorなどで見た目を確認できますが、Unityバージョンによってはノッチ対応用ライブラリや、アスペクト対応ライブラリを使って（あるいは作って）いきましょう。</p><p>Unity DeviceSimulator(2019.3~)
<a href="https://docs.unity3d.com/Packages/com.unity.device-simulator@latest/" target="_blank" rel="noopener noreferrer">https://docs.unity3d.com/Packages/com.unity.device-simulator@latest/</a></p><p>デザイナーさんが親切であればアスペクト比やノッチの時はどういうレイアウトを想定しているか、の資料があるのでアスペクト比を切り替えたときの見た目を合わせれば大丈夫です。
そうでない場合は、頑張って良い感じに見えるようにしましょう。</p><p>アウトゲームは良い感じにシミュレーションして確認できますが、インゲームの面白さや有利不利がアスペクト比によって変わるようだと、一気に考えることが増えてきます。<br>
この文書ではインゲームについては触れませんが、メチャクチャ難しい要素があるので大変そうです。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="多言語対応をしよう"></a>多言語対応をしよう<a aria-hidden="true" tabindex="-1" class="hash-link" href="#多言語対応をしよう" title="Direct link to heading">#</a></h3><p>Unity標準でlocalizationライブラリがUPM経由で提供されようとしています。
Google SpreadSheetからのインポートも出来そうなので、今後はこれを使うプロジェクトも出てくるかも知れません。
<a href="https://docs.unity3d.com/Packages/com.unity.localization@latest/" target="_blank" rel="noopener noreferrer">https://docs.unity3d.com/Packages/com.unity.localization@latest/</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="uiライブラリの変遷"></a>UIライブラリの変遷<a aria-hidden="true" tabindex="-1" class="hash-link" href="#uiライブラリの変遷" title="Direct link to heading">#</a></h3><p>UnityはメジャーなUIライブラリが数年単位で切り替わってきています。なので参加したプロジェクトで何のUIライブラリを使っているかを確認して、同じライブラリを使いましょう。<strong>UIライブラリの混在はダメ絶対！！！</strong></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ngui期"></a>NGUI期<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ngui期" title="Direct link to heading">#</a></h4><p>Unity4.x系から続いているプロジェクトとかは大体これ。Unity標準のUIシステムが不評で、サードパーティー製アセットのNGUIが事実上標準でした。この作者は一体幾ら売り上げたんでしょうね…
さすがに今から新規で開発するプロジェクトではあまり採用されないかもしれませんが、CPU負荷が軽かったりして今も愛用している人やチームが居ます。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ugui期"></a>uGUI期<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ugui期" title="Direct link to heading">#</a></h4><p>Unity4.6以降で標準UIとして提供されたuGUIです。おそらく、この文書を読んでいる皆さんのほとんどはuGUIを使っているのでは無いでしょうか。
ボタンのロングタップやダブルタップを受け付けるためのInputModule拡張をする場合もありますが、基本的にuGUIは技術書も日本語で出ているので、キャッチアップしやすいと思います。
プレハブコンフリクトを避けるために各パーツは小分けにしてResources.LoadしたりGameObject.Instanciate()して親子関係をスクリプトで付ける。みたいなコードがあちこちに散らばっていたらこれです。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="後期ugui期"></a>後期uGUI期<a aria-hidden="true" tabindex="-1" class="hash-link" href="#後期ugui期" title="Direct link to heading">#</a></h4><p>Unity2018.3以降はNestedPrefabという仕組みが出来ました。後期uGUIはuGUI期+NestedPrefabです。
uGUIを使ったアウトゲームGUIでも、NestedPrefabを<strong>正しく</strong>採用することでスクリプトの記述量を減らしつつ、プレハブコンフリクトも減らせたりします。</p><p>開発しているUnityバージョンにもよりますが、今から新規開発をするなら後期uGUIを採用していることが多い予感です。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ui-toolkit旧名称ui-elements期"></a>UI Toolkit(旧名称:UI Elements)期<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ui-toolkit旧名称ui-elements期" title="Direct link to heading">#</a></h4><p>期待の新GUIシステムです。僕の周りではまだあまり採用例が無いのですが、1年後のリリースを見据えてるプロジェクトなどでは、使われているかも知れません。
特徴としてはEditorGUIも同じ書き方が出来ること、jQueryみたいなセレクタとcssみたいな修飾が出来ることです。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="非同期通信がある場合のui考え事"></a>非同期通信がある場合のUI考え事<a aria-hidden="true" tabindex="-1" class="hash-link" href="#非同期通信がある場合のui考え事" title="Direct link to heading">#</a></h2><p><strong>一言で言うとどんなもの？</strong></p><p>スタンドアロンゲームと異なり、サーバ通信の結果が返ってくる時間は保証できません。
なので通信結果が連続でまとめて返ってくる場合や、10秒以上返ってこない場合に、ゲームが壊れないようにUI側で配慮する必要があります。</p><p><strong>これの理解や実装が不完全だと何が起きるの？</strong></p><ul><li>ダイアログが多重になる時に死ぬ</li><li>画面遷移後に前の画面の通信結果が返ってきて死ぬ</li><li>バトル中に前の画面の通信結果が返ってきて死ぬ</li></ul><p><strong>詳しく知りたい人は、この辺の単語でググってほしい</strong></p><ul><li>情報求む</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ダイアログシステム"></a>ダイアログシステム<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ダイアログシステム" title="Direct link to heading">#</a></h3><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="誤タップ防止とuiアニメーション"></a>誤タップ防止とUIアニメーション<a aria-hidden="true" tabindex="-1" class="hash-link" href="#誤タップ防止とuiアニメーション" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="環境分けを作ろう"></a>環境分けを作ろう<a aria-hidden="true" tabindex="-1" class="hash-link" href="#環境分けを作ろう" title="Direct link to heading">#</a></h2><p>デバッグログを確認したり、SRDebuggerなどを使える開発者モードと、ストアに公開するモード、というクライアントアプリ挙動を示すパラメータを内部で持っておきます。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-cs codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#if DEBUG</span></div></div></div></div></div><p>みたいなifdefを切っておく、あるいはasmdef単位で切り分けておいて、<strong>ストア公開するバージョンではデバッグ機能がコンパイルされないようにしておきましょう。</strong></p><p>また、通信相手のAPIサーバも開発環境APIサーバ、ステージング環境APIサーバ、製品環境APIサーバ、と3個くらい(あるいはそれ以上)のサーバURLがあったりするので、環境変数的な仕組みを用意しておいて切り替えられるようにしておきましょう。</p><p>つまり、クライアントの動作にはこれだけのバリエーションが考えられます。</p><table><thead><tr><th>　</th><th>クライアントデバッグビルド</th><th>クライアントリリースビルド</th></tr></thead><tbody><tr><td>APIサーバ(DEV)</td><td>よく使う</td><td>アクセス出来ないのが正しい</td></tr><tr><td>APIサーバ(STG)</td><td>めっちゃよく使う</td><td>QA時、ストア審査時だけ使う</td></tr><tr><td>APIサーバ(PROD)</td><td>互換性チェックに使う</td><td><strong>ユーザが遊ぶのはここ</strong></td></tr></tbody></table><p>tips:このDEV, STG, PRODという環境の分け方はよく使われていますが、現場によって名付けルールが大きく異なることがあるので注意が必要です。例えば開発環境のDEVでもdevelop1, develop2...というような名付けの場合や、機能や施策ごとに開発環境を切り分けている現場ではfeature1, feature2...というような名付けがされていることがあります。<br>
特に新しい現場やチームでは確認をした方が良いでしょう。  </p><p>またステージング環境でも現場によっては意図が異なり、STGはQA用環境のことを指す場合もあれば、PRODと同じバージョンがデプロイされているCS対応用環境の場合などもあります。<br>
また、後述するApp Storeの審査の関係上ステージング環境という分類でありながら、次回リリース用のAPIサーバがデプロイされており、審査スタッフが問題なく審査を行うため、開発やQAのメンバーが触らない特別な環境が用意されていることがあります。この環境の呼び方もまた様々ですが、Review環境やJudge環境と呼ばれたりします。(　審査提出バイナリの罠と対策 を確認してください)  </p><p>tips:更に、クライアントエンジニアの手元PCでAPIサーバのシミュレーションが出来るように整備されている事もあります。チームに参加したら「Dockerを使ったローカルAPIサーバもありますか？」と聞いてみましょう。これがあるとSTG相当のサーバ動作チェックを手元で行ったり、開発中にバグったと思ったときにサーバ側にログを仕込んでクライアント、サーバどちらに問題が起きているか切り分けたり、ということが出来ます。便利です！（その代わり、PHPとかDockerとかを覚える必要が出てきます。頑張って覚えましょう！）</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="devstgprod"></a>DEV,STG,PROD<a aria-hidden="true" tabindex="-1" class="hash-link" href="#devstgprod" title="Direct link to heading">#</a></h3><p>ソーシャルゲームが初めてで、この3単語を初めて目にした方も居るかも知れません。</p><ul><li>DEV…開発環境、バグがあるかもしれないし、壊れているかも知れない。最新のコードが含まれています。</li><li>STG…ステージング環境、次にリリースするバージョンが動いています。ここでテストやQAをして、問題なければPRODにリリースされます。</li><li>PROD…製品環境、ユーザが実際に遊んでいる環境です。ここでうっかり変な操作やバグを仕込むとメチャクチャ怒られるのでSTGでいっぱいチェックしましょう。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="inhousebuildとdeploygate"></a>InHouseBuildとDeploygate<a aria-hidden="true" tabindex="-1" class="hash-link" href="#inhousebuildとdeploygate" title="Direct link to heading">#</a></h3><p>QAの人や社内テスターの人に遊んで貰うために、専用のアプリ配布システムを社内に用意しておきましょう。もし社内に整備されていなければ、あなたが整備しましょう。
精神の衛生に大幅に好影響があります。チームのCI環境も、もし存在しなければあなたが用意しましょう。きっと感謝されます。</p><p>一方で所属したチームが既に環境整備済みだった場合はチームの人に<strong>「このCI環境や配布環境って誰が作ってくれたんですか？」と尋ねて、担当者の方に感謝を伝えて</strong>おきましょう。本当にありがたいです。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="審査提出バイナリの罠と対策"></a>審査提出バイナリの罠と対策<a aria-hidden="true" tabindex="-1" class="hash-link" href="#審査提出バイナリの罠と対策" title="Direct link to heading">#</a></h3><p>特にApp Storeでよく問題になるのですが、<strong>審査通過後にバイナリを差し替えることは出来ません。</strong>つまりストア公開前の審査段階のバイナリと審査通過後の公開可能なバイナリは同一です。
<strong>同一のバイナリで、接続先を切り替えられる仕組みを用意しておきましょう。</strong>
典型的な実装としては、クライアント起動時にまずサーバに自らのバイナリバージョンを送信してどのサーバに接続すれば良いか問合せ、サーバがそのバイナリバージョンに応じた接続先を返すという物です。
このような仕組みを用意しておくと、バイナリの接続先をApp Storeの審査中はステージング環境、審査通過後は本番環境へと切り替えることが出来ます。
この仕組みを用意していないと、新機能実装など大規模アップデート時の審査に、<strong>本番環境ではバイナリが起動しないという状況でApp Storeのバイナリが本番環境に接続してしまうとアプリがクラッシュし、100%審査に落ちてしまいます。</strong> </p><p>（そうなってしまった場合は、苦肉の策としてゲームをアプリ審査している2週間くらい長期メンテにして、その間に本番環境を大規模アップデート版にアップデート、ユーザは2週間遊べないまま無視して、AppStore審査を<strong>無人の本番環境で遊んで貰う</strong>となります。2週間のメンテ…考えるだけで胃が痛くなりますね…）</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="メジャーなライブラリを知ろう"></a>メジャーなライブラリを知ろう<a aria-hidden="true" tabindex="-1" class="hash-link" href="#メジャーなライブラリを知ろう" title="Direct link to heading">#</a></h2><p>Unityのソーシャルゲーム開発、というよりUnityの大規模開発系だと以下のライブラリはよく使われます。それぞれUnityが苦手とする部分をカバーするライブラリなので、どういった用途で使っているかを確認して、似た用途なら積極的に使っていきましょう。</p><p>以下の3ライブラリを使わずにゲームを開発することは可能ですが、既にプロジェクトで採用されているなら積極的に覚えておきましょう。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="unirx"></a>UniRx<a aria-hidden="true" tabindex="-1" class="hash-link" href="#unirx" title="Direct link to heading">#</a></h3><ul><li>Unityが.Net3.5系の頃からあるライブラリ</li><li>非同期通信、イベントストリーム購読用途</li><li>非同期通信については後述のasync,await+UniTaskを使うことが多いかも</li><li>何も考えずに使うとゾンビストリームがメッチャ出るので勉強しましょう</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="zenject"></a>Zenject<a aria-hidden="true" tabindex="-1" class="hash-link" href="#zenject" title="Direct link to heading">#</a></h3><ul><li>DIフレームワーク for Unity的なもの</li><li>DIフレームワークと言いつつSignalBusやTickableも持っていたりする</li><li>どこまでZenjectを使う方針か確認しましょう</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="unitask"></a>UniTask<a aria-hidden="true" tabindex="-1" class="hash-link" href="#unitask" title="Direct link to heading">#</a></h3><ul><li>Unity C#がC#7.x以降の構文を扱えるようになった結果、非同期処理にasyncとawaitが使えるようになった</li><li>凄いコルーチン、みたいな感じの使い勝手(Task)</li><li>その凄いコルーチンは、オーバーヘッドが大きいし、Unity組み込み関数との繋ぎ込みが弱い</li><li>なのでasync awaitと組み合わせるUnity特化のTaskライブラリがUniTask</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="メジャーなミドルウェア・ツールを知ろう"></a>メジャーなミドルウェア・ツールを知ろう<a aria-hidden="true" tabindex="-1" class="hash-link" href="#メジャーなミドルウェア・ツールを知ろう" title="Direct link to heading">#</a></h2><p>Unityを使った大規模開発系では、以下のツール・ミドルウェアがよく併用されます。ライブラリ同様、Unityが苦手とする部分を補佐する製品群です。
以下に挙げたものは、いずれもUnityとは独立したツールでデータオーサリングを行い、Unity側ではSDKを通じて各種アセットを再生するものです。</p><p>開発規模が大きく作業者が多かったり複数社にまたがっている場合は、いちいちUnityのプロジェクトを全部共有して全員がUnityのライセンスを持って作業することが大変です。
自作ツールやExcelで頑張る道もなくはないですが、物量が多い2Dデータ、音声データ等の管理はいつか破綻します。こうしたツールを上手に使ってアセットパイプラインを構築することが重要になります。
有料ですが、ゲームで達成しなくてはならない機能とデータ量の見積もり、自作した場合の人月などを加味しつつ使うか判定すると良いでしょう。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="live-2d"></a>Live 2D<a aria-hidden="true" tabindex="-1" class="hash-link" href="#live-2d" title="Direct link to heading">#</a></h3><ul><li>2Dキャラクターを立体的にアニメーションできる技術</li><li>キャラ絵をパーツごとに分割して再構成する</li><li>キャラクターをイキイキさせたいという要望が上から来たら必須</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="optpix-spritestudio"></a>OPTPiX SpriteStudio<a aria-hidden="true" tabindex="-1" class="hash-link" href="#optpix-spritestudio" title="Direct link to heading">#</a></h3><ul><li>汎用の2Dアニメーション作成ツール</li><li>ボーンアニメーション、エフェクト制作など</li><li>タイムライン機能を使ってワイプ・カットインの演出としても使える</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cri-adx2"></a>CRI ADX2<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cri-adx2" title="Direct link to heading">#</a></h3><ul><li>サウンドライブラリ＋サウンドオーサリングツール</li><li>Android端末での音の遅延対策が強く、音ゲーでは多く使われている</li><li>曲やボイスデータが多いゲームでは、大量データをハンドリングするツールとして利用される</li><li>サウンドファイルが特殊形式なので、IPモノ等におけるデータ保護の意味で使う場合もある</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="photon"></a>Photon<a aria-hidden="true" tabindex="-1" class="hash-link" href="#photon" title="Direct link to heading">#</a></h3><ul><li>ネットワークマルチプレイミドルウェア</li><li>リアルタイムバトルがあるゲーム</li><li>バックエンド付きのCloud、自分で鯖立てするServerがある</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="mbaas"></a>mBaaS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#mbaas" title="Direct link to heading">#</a></h3><ul><li>これは製品名ではなく製品カテゴリの名前</li><li>ログイン、ユーザーデータ保存、ログボ、ギルド等のサーバー側機能をまとめたサービス</li><li>自社でバックエンドを組まない小規模タイトルや、プロトタイプ時のドライバ・スタブとしても活用価値あり</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/neon-izm/before_join_socialgame/edit/master/website/docs/doc3.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/before_join_socialgame/docs/doc2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 1章:サーバサイドと仲良くなろう</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/before_join_socialgame/docs/doc4"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">3章:運用を見据えて作っておこう »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#チュートリアルを作ろう" class="table-of-contents__link">チュートリアルを作ろう</a></li><li><a href="#アウトゲームを作ろう" class="table-of-contents__link">アウトゲームを作ろう</a><ul><li><a href="#楽しい多解像度、多アスペクト、ノッチ対応" class="table-of-contents__link">楽しい多解像度、多アスペクト、ノッチ対応</a></li><li><a href="#多言語対応をしよう" class="table-of-contents__link">多言語対応をしよう</a></li><li><a href="#uiライブラリの変遷" class="table-of-contents__link">UIライブラリの変遷</a></li></ul></li><li><a href="#非同期通信がある場合のui考え事" class="table-of-contents__link">非同期通信がある場合のUI考え事</a><ul><li><a href="#ダイアログシステム" class="table-of-contents__link">ダイアログシステム</a></li><li><a href="#誤タップ防止とuiアニメーション" class="table-of-contents__link">誤タップ防止とUIアニメーション</a></li></ul></li><li><a href="#環境分けを作ろう" class="table-of-contents__link">環境分けを作ろう</a><ul><li><a href="#devstgprod" class="table-of-contents__link">DEV,STG,PROD</a></li><li><a href="#inhousebuildとdeploygate" class="table-of-contents__link">InHouseBuildとDeploygate</a></li><li><a href="#審査提出バイナリの罠と対策" class="table-of-contents__link">審査提出バイナリの罠と対策</a></li></ul></li><li><a href="#メジャーなライブラリを知ろう" class="table-of-contents__link">メジャーなライブラリを知ろう</a><ul><li><a href="#unirx" class="table-of-contents__link">UniRx</a></li><li><a href="#zenject" class="table-of-contents__link">Zenject</a></li><li><a href="#unitask" class="table-of-contents__link">UniTask</a></li></ul></li><li><a href="#メジャーなミドルウェア・ツールを知ろう" class="table-of-contents__link">メジャーなミドルウェア・ツールを知ろう</a><ul><li><a href="#live-2d" class="table-of-contents__link">Live 2D</a></li><li><a href="#optpix-spritestudio" class="table-of-contents__link">OPTPiX SpriteStudio</a></li><li><a href="#cri-adx2" class="table-of-contents__link">CRI ADX2</a></li><li><a href="#photon" class="table-of-contents__link">Photon</a></li><li><a href="#mbaas" class="table-of-contents__link">mBaaS</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/before_join_socialgame/docs/">本編</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/neon-izm/before_join_socialgame" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github Repo </a></li><li class="footer__item"><a href="https://twitter.com/izm" target="_blank" rel="noopener noreferrer" class="footer__link-item">Auther twitter: @izm</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Before Join Socialgame Client. Built with Docusaurus.</div></div></div></footer></div>
<script src="/before_join_socialgame/styles.3b1d0e35.js"></script>
<script src="/before_join_socialgame/runtime~main.8222458e.js"></script>
<script src="/before_join_socialgame/main.3c08cf2d.js"></script>
<script src="/before_join_socialgame/common.78351bf7.js"></script>
<script src="/before_join_socialgame/2.8cfae064.js"></script>
<script src="/before_join_socialgame/29.f9bff398.js"></script>
<script src="/before_join_socialgame/30.15842f59.js"></script>
<script src="/before_join_socialgame/2e792446.059e88ab.js"></script>
<script src="/before_join_socialgame/17896441.24cf5e72.js"></script>
<script src="/before_join_socialgame/616665f6.3b2ab50a.js"></script>
</body>
</html>